

.. _sphx_glr_guide_auto_examples_plot_iris_analysis.py:


Analysis of Iris petal and sepal sizes
=======================================

Ilustrate an analysis on a real dataset:

- Visualizing the data to formulate intuitions
- Fitting of a linear model
- Hypothesis test of the effect of a categorical variable in the presence
  of a continuous confound




.. code-block:: python

    import matplotlib.pyplot as plt

    import pandas
    from pandas.tools import plotting

    from statsmodels.formula.api import ols

    # Load the data
    data = pandas.read_csv('iris.csv')


Plot a scatter matrix



.. code-block:: python


    # Express the names as categories
    categories = pandas.Categorical(data['name'])

    # The parameter 'c' is passed to plt.scatter and will control the color
    plotting.scatter_matrix(data, c=categories.labels, marker='o')

    fig = plt.gcf()
    fig.suptitle("blue: setosa, green: versicolor, red: virginica", size=13)


Statistical analysis



.. code-block:: python


    # Let us try to explain the sepal length as a function of the petal
    # width and the category of iris

    model = ols('sepal_width ~ name + petal_length', data).fit()
    print(model.summary())

    # Now formulate a "contrast", to test if the offset for versicolor and
    # virginica are identical

    print('Testing the difference between effect of versicolor and virginica')
    print(model.f_test([0, 1, -1, 0]))
    plt.show()

**Total running time of the script:** ( 0 minutes  0.000 seconds)



.. container:: sphx-glr-footer


  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_iris_analysis.py <plot_iris_analysis.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_iris_analysis.ipynb <plot_iris_analysis.ipynb>`

.. rst-class:: sphx-glr-signature

    `Generated by Sphinx-Gallery <http://sphinx-gallery.readthedocs.io>`_
